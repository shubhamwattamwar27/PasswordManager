<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Update Or Save New Details</title>

</head>
<!-- <body style = "
	    display: flex;
	    flex-direction: column;
	    justify-content: space-around;"> -->
	<script>
 function generatePassword(){
        var requestOptions = {
        method: 'GET',
        };
        fetch("/rest/generatePassword", requestOptions)
        .then(response => response.text())
        .then(result => {
        	document.getElementById("pass").value = result;
        })
        .catch(error => console.log('error', error));
    }
 function validateFields()
 {
	 	var webSiteName = document.getElementById("webSiteName").value;
		var pass = document.getElementById("pass").value;
		if(webSiteName === "" || pass === "")
		{
			alert("Web Site Name or Password is not empty");
			return false;
		}
		return true;
		
 }
 </script>
 	<!-- <h2 align="center">Generate New Password</h2> -->
	<form th:action="@{/passwordManager/saveAction/}" th:object="${createDetails}" method="post" onSubmit="return validateFields()">

	<div class="card text-center mx-auto col-md-7">
		<div class="card-header">
			<b>Generate New Password</b>
		</div>
		<div class="card-body">
			<h6 class="card-title">Enter Web Site Name</h6>
			<div class="input-group mb-3">
				<input id="id" placeholder="id" type="text" th:field="*{id}"
					hidden="true" class="input-group-text" /> <input type="text"
					id="webSiteName" th:field="*{webSiteName}" class="form-control"
					placeholder="Web Site Name" aria-label="Web Site Name"
					aria-describedby="basic-addon1">
					<span> </span>
				<button type="button" onclick="generatePassword()"
					class="btn btn-primary">Generate Password</button>
			</div>

			<div class="input-group mb-3">

				<input type="text" id="pass" th:field="*{password}"
					readonly="readonly" class="form-control"
					placeholder="Generated Password Will show here"
					aria-label="Web Site Name" aria-describedby="basic-addon1">

			</div>
			
			<div class ="float-left">

				<button type="submit" value="Save"
					class="btn btn-primary ">Save</button>
					<span> </span>
				<button type="button" th:onclick="|window.location.href='/passwordManager/'|"
					class="btn btn-primary">Cancel</button>
			</div>
			
		</div>
		<div class="card-footer text-muted"></div>
	</div>

	<!-- <table border="1" alige="right" class="table table-striped">
			<tr>
				<th colspan="2">Enter Web Site Name</th>
			</tr>
			<tr>
				<input id="id" placeholder="id"
					type="text" th:field="*{id}" hidden="true" class="input-group-text"/>
				<td><input id="webSiteName" placeholder="Web Site Name"
					type="text" th:field="*{webSiteName}" /></td>
				<td colspan="2"><button type="button" onclick="generatePassword()" class="btn btn-primary">
						Generate Password</button></td>
			</tr>
			<tr>
				<td colspan="4">
						<input id="pass" placeholder="Generated Password Will show here"
							type="text" th:field="*{password}" readonly="readonly" />
				</td>
			</tr>
			<tr>
				<td><input type="submit" value="Save" /></td>
				<td>
					<button type="button"
						th:onclick="|window.location.href='/passwordManager/'|" class="btn btn-primary">Cancle</button>
				</td>
			</tr>
		</table>
 -->	</form>

<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>